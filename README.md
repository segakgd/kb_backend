Сборка на dev-e
---

~~~
Запускаем:  make build-dev
~~~

Па-пара-па-пам Всё!

Что к чему:
---

~~~
Manager - выполняет простые задачи, к примеру вызывает доп сервисы для делигации
Service - логика и болото
~~~

Core:
---

Механизм цепочек (Chain):
Это классы из которых можно собрать сложный сценарий на основании одного сообщения
~~~
Target - ключ, который описывает какой chain класс нужно вызвать при 
проходе цепочки  
~~~

Механизм прыжков (Jump)
~~~
Позволяет перепрыгнуть внутри Chain с одного сообщения на другое. 
Так же, можно выйти за пределы выполнения Chain, к примеру к родительскому
 сообщению
~~~

Для запуска messenger-а:
~~~
php bin/console messenger:consume async
~~~

Что можно делать:
---

~~~
1. Действия 
    - Отправить сообщение
    - Обработать сообщение
    - Установить переменную
    - Отправить уведомление
    - Записать в статистику
    - Выполнить в SmartQuery (их скриптовый недоязык, возможностей по мелочи)
    - Работа с пользователем
        - Добавить пользователя в список
        - Удалить пользователя из списка
    - Переход
    - Таймер
        - Установить таймер
        - Сбросить таймер
    - Перевод на оператора
    - Извлечь данные
    - Сменить контекст
2. События
    - Сообщение от пользователя
    - Нет подходящего сценария
    - Первое сообщение и старт бота
    - Новый комментарий (реакция на комменты в вк)
    - Webhook
3. Условие
    - Условие (если пользователь написал a то отправь сделай что-нибудь) 
    - Условие с вариантов (если пользователь написал a или б или в то отправь сделай что-нибудь)
    - Рандом
3. Интеграции
    - google sheets
    - отправить http запрос
    - отправить email
    - отправить данные в crm
~~~

Кнопки конкурентов:
---

~~~
- Кнопка-переход (судя по всему к другому действию)
- Создать платеж
- Кнопка-ссылка
- Отправить телефон
- Отправить местоположение
- Открыть сайт в Telegram (открыть через внутренний браузер телеги)
- Открыть магазин Shopback (открыть через внутренний браузер телеги)
- Оплатить заказ Shopback (открыть через внутренний браузер телеги)
~~~

Системные 
---

~~~
Запускаем на локалке:
docker compose -f docker-compose-local.yml up

Запускаем на локалке (в фоне):
docker compose -f docker-compose-local.yml up -d
~~~

~~~
Команда для генерации ключей jwt в системе:
bin/console lexik:jwt:generate-keypair
~~~

~~~
Запуск Unti тестов:
bin/phpunit tests/Unit/
~~~

~~~
Запуск Functionsl тестов:
bin/phpunit tests/Functionsl/
~~~

~~~
Документация расположена по адресу:

/api/doc - ui
/api/doc.json - json
~~~
